{% extends 'base.html' %}

{% block title %} ChalkRoll Processing Result: {{ data.image_filename }} {% endblock %}

{% block content %}

<header>
  <a href="/">&lt; Back</a>
  <hgroup>
    <h1>Preview Image</h1>
    <h2>{{ data.image_filename }}</h2>
  </hgroup>
</header>

<main>

  <figure>
    <img src="data:image/png;base64,{{ data.preview_image_data }}" />
  </figure>
  
  <details>
    <summary>Machine Code</summary>
    <p>
      <pre>{{ data.gcode }}</pre>
    </p>
  </details>

  <button>
    <a href="data:text/plain;base64,{{ data.gcode_base64 }}" download="{{ data.gcode_filename }}">Download Machine Code: {{ data.gcode_filename }}</a>
  </button>


</main>

{% endblock %}